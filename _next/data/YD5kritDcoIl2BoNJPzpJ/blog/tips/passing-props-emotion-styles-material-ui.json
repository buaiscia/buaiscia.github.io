{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var d=Object.create;var i=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var s=n=>i(n,\"__esModule\",{value:!0});var g=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),w=(n,e)=>{s(n);for(var o in e)i(n,o,{get:e[o],enumerable:!0})},y=(n,e,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of p(e))!u.call(n,a)&&a!==\"default\"&&i(n,a,{get:()=>e[a],enumerable:!(o=c(e,a))||o.enumerable});return n},f=n=>y(s(i(n!=null?d(m(n)):{},\"default\",n&&n.__esModule&&\"default\"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);var l=g((S,r)=>{r.exports=_jsx_runtime});var I={};w(I,{default:()=>k,frontmatter:()=>x});var t=f(l()),x={title:\"Fixing Material UI and Emotion's handling of Transient Options\",date:\"2023-01-31\",draft:!1,tags:[\"Web development\",\"React\",\"Material UI\",\"tips\"],summary:\"Passing Props to custom Emotion styles with Material UI\"};function h(n){let e=Object.assign({p:\"p\",pre:\"pre\",code:\"code\",a:\"a\"},n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.p,{children:\"Recently I encountered an issue with the Material UI that I couldn't wrap my head around. What was happening?\"}),`\n`,(0,t.jsx)(e.p,{children:\"Modern libraries for managing custom CSS, like Styled Components or Emotion, have accustomed us developers to the possibility to use styled elements as real, reusable components. They can even extend other styles or other components. CSS becomes building blocks like React, and that's just great.\"}),`\n`,(0,t.jsx)(e.p,{children:\"Using Material UI means using Emotion. It works similarly to Styled Components, although the syntax is slightly different. One of the advantages of using these libraries with React is that you can pass them props and you can change the style according to their values.\"}),`\n`,(0,t.jsx)(e.p,{children:\"However, it turns out that Emotion with Material UI lacks proper handling of this feature (as of now at least), which is called transient options. So if you pass a boolean value as a prop and use it like this:\"}),`\n`,(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:\"language-js\",children:`  // component\n  <MyStyledBox isdarktheme={true} />\n  \n  // style file\n  import { Box } from '@mui/material'\n\n  export const MyStyledBox = styled(Box)(\n    ({isdarktheme}) => ({\n      color: isdarktheme ? 'white' : 'black'\n    })\n  )\n`})}),`\n`,(0,t.jsxs)(e.p,{children:[\"React will throw a warning saying: 'Received \",(0,t.jsx)(e.code,{children:\"true\"}),\" for non-boolean attribute \",(0,t.jsx)(e.code,{children:\"isdarktheme\"}),\"'. It will work, but the warning will stay.\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"How to fix it? I found that there's an issue opened with Emotion about this, and here's \",(0,t.jsx)(e.a,{href:\"https://github.com/emotion-js/emotion/issues/2193#issuecomment-766173118\",children:\"the best working workaround answer.\"})]}),`\n`,(0,t.jsx)(e.p,{children:\"So here's how I followed it and implemented it. In one util file, I added:\"}),`\n`,(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:\"language-javascript\",children:`  export const transientOptions: Parameters<CreateStyled>[1] = {\n    shouldForwardProp: (propName: string) => !propName.startsWith('$'),\n  }\n`})}),`\n`,(0,t.jsx)(e.p,{children:\"This identifies the props starting with $ as transientOptions through the React hook shouldForwardProp. As the name says, it will allow the prop to be passed.\"}),`\n`,(0,t.jsx)(e.p,{children:\"Then I can import the method and use it as an option for the emotion component. Here's with TS:\"}),`\n`,(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:\"language-typescript\",children:`  import { transientOptions } from 'utils'\n  \n  type Props = {\n    $isdarktheme: boolean\n  }\n  \n  export const MyStyledBox = styled(Box, transientOptions)<Props>(({ theme, $isdarktheme }) => ({\n    color: $isdarktheme ? 'white' : 'black'\n  }))\n`})}),`\n`,(0,t.jsx)(e.p,{children:\"The warning disappeared and the prop is correctly taken by Emotion.\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"Thank you for reading! Let's connect on \",(0,t.jsx)(e.a,{href:\"https://twitter.com/AlexBuaiscia\",children:\"Twitter\"}),\" or \",(0,t.jsx)(e.a,{href:\"@alex_@uiuxdev.social\",children:\"Mastodon\"}),\"!\"]})]})}function b(n={}){let{wrapper:e}=n.components||{};return e?(0,t.jsx)(e,Object.assign({},n,{children:(0,t.jsx)(h,n)})):h(n)}var k=b;return I;})();\n;return Component;","toc":[],"frontMatter":{"readingTime":{"text":"2 min read","minutes":1.99,"time":119400,"words":398},"slug":"tips/passing-props-emotion-styles-material-ui","fileName":"tips/passing-props-emotion-styles-material-ui.md","title":"Fixing Material UI and Emotion's handling of Transient Options","date":"2023-01-31T00:00:00.000Z","draft":false,"tags":["Web development","React","Material UI","tips"],"summary":"Passing Props to custom Emotion styles with Material UI"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.835,"time":50100,"words":167},"slug":["default"],"fileName":"default.md","name":"Alex Buaiscia","avatar":"/static/images/avatar.png","occupation":"Full-stack Software Developer","company":"Moravio","twitter":"https://twitter.com/AlexBuaiscia","linkedin":"https://www.linkedin.com/in/alex-buaiscia/","github":"https://github.com/buaiscia","date":null}],"prev":{"title":"Reduce your Jest tests running time (especially on hooks!) with the maxWorkers option","date":"2022-12-08T00:00:00.000Z","draft":false,"tags":["web development","jest","testing"],"summary":"How tweaking the maxWorkers option can increase tests efficiency","slug":"tips/reduce-jest-tests-running-time-maxworkers"},"next":{"title":"Removing Default React Imports. For a Cleaner Code","date":"2023-02-13T00:00:00.000Z","draft":false,"tags":["Web development","React","tips"],"summary":"Simplifying Your Codebase with the New JSX Transform and Eslint Configuration","slug":"tips/removing-react-imports"}},"__N_SSG":true}